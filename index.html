<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>soluzioni esercizio</title>
</head>
<body>
    <h1 class="titoli">PRIMA SCHEDA es. 28/04</h1>
    <h1>1. SELEZIONARE TUTTI GLI STUDENTI NATI NEL 1990 (160)</h1>
    <p>SELECT * FROM `students` WHERE YEAR(`date_of_birth`) = 1990 </p>
    <h1>2. SELEZIONARE TUTTI I CORSI CHE VALGONO PIù DI 10 PUNTI (479)</h1>
    <P>SELECT * FROM `courses` WHERE `cfu` > 10 </P>
    <h1>3. SELEZIONARE TUTTI GLI STUDENTI CHE HANNO PIù DI 30 ANNI</h1>
    <p>SELECT * FROM `students` WHERE TIMESTAMPDIFF(YEAR, `date_of_birth`, CURRENT_DATE()) </p>
    <h1>4. SELEZIONARE TUTTI I CORSI DEL PRIMO SEMESTRE DEL PRIMO ANNO DI UN QUALSIASI CORSO CORSO DI LAUREA (286)</h1>
    <P>SELECT * FROM `courses` WHERE `year` = 1 AND `period` = 'I semestre' </P>
    <h1>5. Selezionare tutti gli appelli d'esame che avvengono nel pomeriggio (dopo le 14) del 20/06/2020 (21)</h1>
    <p>SELECT * FROM `exams` WHERE HOUR(`hour`) >= 14 AND `date` = '2020-06-20'</p>
    <h1>6. Selezionare tutti i corsi di laurea magistrale (38)</h1>
    <p>SELECT * FROM `degrees` WHERE `level` = 'magistrale' </p>
    <h1>7. Da quanti dipartimenti è composta l'università? (12)</h1>
    <p>SELECT * FROM `departments` WHERE 1 </p>
    <h1>8. Quanti sono gli insegnanti che non hanno un numero di telefono? (50) </h1>
    <p>SELECT * FROM `teachers` WHERE `phone` IS NULL </p>

    <h1 class="titoli">SECONDA SCHEDA es. 28/04</h1>

    <h1>1. Contare quanti iscritti ci sono stati ogni anno</h1>
    <p>SELECT COUNT('id'), YEAR(`enrolment_date`) FROM `students` GROUP BY YEAR(`enrolment_date`)  </p>
    <h1>2. Contare gli insegnanti che hanno l'ufficio nello stesso edificio</h1>
    <p>SELECT COUNT('id'), `office_address` FROM `teachers` GROUP BY `office_address` </p>
    <h1>3. Calcolare la media dei voti di ogni appello d'esame</h1>
    <p>SELECT AVG(`vote`) FROM `exam_student` </p>
    <h1>4. Contare quanti corsi di laurea ci sono per ogni dipartimento</h1>
    <p>SELECT COUNT(*), `department_id` FROM `degrees` GROUP BY `department_id` </p>

    <h1 class="titoli">TERZA SCHEDA es. 29/04</h1>
    <h1>1. Selezionare tutti gli studenti iscritti al Corso di Laurea in Economia</h1>
    <p>SELECT `students`.`name`,`students`.`surname` FROM `students` JOIN `degrees` ON `degrees`.id = `students`.`degree_id` WHERE `degrees`.`name`= 'Corso di Laurea in Economia' </p>
    <h1>2. Selezionare tutti i Corsi di Laurea del Dipartimento di Neuroscienze</h1>
    <p>SELECT `degrees`.`name` FROM `degrees` JOIN `departments` ON `degrees`.id = `degrees`.`department_id` WHERE `departments`.`name` = 'Dipartimento di Neuroscienze' </p>
    <h1>3. Selezionare tutti i corsi in cui insegna Fulvio Amato (id=44)</h1>
    <p>SELECT `courses`.`name` FROM `courses` JOIN `course_teacher` ON `courses`.`id`=`course_teacher`.`teacher_id` JOIN `teachers` ON `teachers`.`id`= `course_teacher`.`teacher_id` WHERE `teachers`.`id`= 44 </p>
    <h1> 4. Selezionare tutti gli studenti con i dati relativi al corso di laurea a cui sono iscritti e il relativo dipartimento, in ordine alfabetico per cognome e nome</h1>
    <p>SELECT `students`.`name` AS `nome`,`students`.`surname` AS `cognome`, `departments`.`name` AS `nome_dipartimento` FROM `students` JOIN `degrees` ON `degrees`.`id` = `students`.`degree_id` JOIN `departments` ON `degrees`.`department_id` = `departments`.`id` WHERE 1 ORDER BY `cognome`, `nome` ASC </p>
    <h1>5. Selezionare tutti i corsi di laurea con i relativi corsi e insegnanti</h1>
    <p>SELECT `degrees`.`name` AS `corso_laurea`, `courses`.`name` AS `nome_corso`, `teachers`.`name` AS `professore` FROM `course_teacher` JOIN `courses` ON `courses`.`id` = `course_teacher`.`course_id` JOIN `degrees` ON `degrees`.`id` = `courses`.`degree_id` JOIN `teachers` ON `teachers`.`id` = `course_teacher`.`teacher_id` WHERE 1 </p>
    <h1>6. Selezionare tutti i docenti che insegnano nel Dipartimento di Matematica (54)</h1>
    <p>SELECT DISTINCT `teachers`.`id`, `teachers`.`name` FROM `teachers` JOIN `course_teacher` ON `teachers`.`id` = `course_teacher`.`teacher_id` JOIN `courses` ON `courses`.`id` = `course_teacher`.`course_id` JOIN `degrees` ON `degrees`.`id` = `courses`.`degree_id` JOIN `departments` ON `departments`.`id` = `degrees`.`department_id` WHERE `departments`.`name` = 'Dipartimento di Matematica' </p>
</body>
</html>